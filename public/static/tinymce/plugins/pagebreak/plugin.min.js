/**
 * TinyMCE version 6.2.0 (2022-09-08)
 */
!function(){"use strict";const e=tinymce.util.Tools.resolve("tinymce.PluginManager"); const a=tinymce.util.Tools.resolve("tinymce.Env");const t=e=>a=>a.options.get(e); const r=t("pagebreak_separator"); const n=t("pagebreak_split_block"); const o="mce-pagebreak"; const s=e=>{const t=`<img src="${a.transparentSrc}" class="mce-pagebreak" data-mce-resize="false" data-mce-placeholder />`;return e?`<p>${t}</p>`:t};e.add("pagebreak",(e=>{(e=>{const a=e.options.register;a("pagebreak_separator",{processor:"string",default:"\x3c!-- pagebreak --\x3e"}),a("pagebreak_split_block",{processor:"boolean",default:!1})})(e),(e=>{e.addCommand("mcePageBreak",(()=>{e.insertContent(s(n(e)))}))})(e),(e=>{const a=()=>e.execCommand("mcePageBreak");e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:a}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:a})})(e),(e=>{const a=r(e); const t=()=>n(e); const c=new RegExp(a.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(e=>"\\"+e)),"gi");e.on("BeforeSetContent",(e=>{e.content=e.content.replace(c,s(t()))})),e.on("PreInit",(()=>{e.serializer.addNodeFilter("img",(r=>{let n; let s; let c=r.length;for(;c--;)if(n=r[c],s=n.attr("class"),s&&s.indexOf(o)!==-1){const r=n.parent;if(r&&e.schema.getBlockElements()[r.name]&&t()){r.type=3,r.value=a,r.raw=!0,n.remove();continue}n.type=3,n.value=a,n.raw=!0}}))}))})(e),(e=>{e.on("ResolveName",(a=>{a.target.nodeName==="IMG"&&e.dom.hasClass(a.target,o)&&(a.name="pagebreak")}))})(e)}))}();