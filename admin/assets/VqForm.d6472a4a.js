var h=Object.defineProperty;var S=(e,r,s)=>r in e?h(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;var n=(e,r,s)=>(S(e,typeof r!="symbol"?r+"":r,s),s);import{F as d}from"./vee-validate.esm.1c4978a9.js";import{d as F,b as f,P as y,F as D,a4 as E}from"./index.e0d2f4fa.js";const p=(e,r,s)=>{const o=r||new FormData;let a;for(const t in e)e.hasOwnProperty(t)&&(s?a=s+"["+t+"]":a=t,e[t]instanceof Date?o.append(a,e[t].toISOString()):typeof e[t]=="object"&&!(e[t]instanceof File)&&!(e[t]instanceof Blob)?p(e[t],o,a):e[t]instanceof Blob&&e[t]?o.append(a,e[t],e[t].name):e[t]&&o.append(a,e[t]));return o};class u{constructor(r){n(this,"data",null);n(this,"error","");n(this,"errors","");n(this,"message","");this.data=r.data,this.error=r.error,this.errors=r.errors,this.message=r.message}getData(){return this.data}getError(){return this.error}getErrors(){return this.errors}getMessage(){return this.message}}var q=F({components:{Form:d},props:{action:{type:String,required:!0,default:()=>""},method:{type:String,default:()=>"POST"},formData:{type:Boolean,default:()=>!1}},emits:["submitedSuccess","submitedError"],setup(e,{attrs:r,emit:s,slots:o}){const a=(t,l)=>{const g=e.formData?p(t):t;E(e.action,{method:e.method,data:g}).then(i=>{const m=new u(i);s("submitedSuccess",m)}).catch(i=>{const m=JSON.parse(i.request.response),c=new u(m);l.setErrors(c.getErrors()),s("submitedError",c)})};return()=>f(D,null,[f(d,y({onSubmit:a},r),o)])}});export{q as default};
