var T=Object.defineProperty,b=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var R=(o,e,s)=>e in o?T(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s,m=(o,e)=>{for(var s in e||(e={}))w.call(e,s)&&R(o,s,e[s]);if(g)for(var s of g(e))A.call(e,s)&&R(o,s,e[s]);return o},h=(o,e)=>b(o,k(e));import{u as S,c as J,b as L}from"./index.de00f1f8.js";import{s as N}from"./index.0ee991bd.js";import{a5 as O,aJ as n,r as f,b as U}from"./vendor.88382afc.js";const q=S(),{loading:C}=O(q),B=o=>{N(o,C)},F=async()=>{const{logOutUser:o}=J();await o()};function I(){return{getErrorResponse:async e=>{const s=n(),u=n(),r=n();if(e.response){const t=e.response.request;s.value=t.status,u.value=t.statusText,[400,422].includes(s.value)?r.value=JSON.parse(t.response):[401].includes(s.value)?await F():[405,404].includes(s.value)&&console.log(e.message)}else console.log("API Error (No response):",e.message);return{status:s,statusText:u,eResponse:r}}}}function D(o,e){const s=e,u=L,r=n(),t=n(),c=f(!1),l=f(!0),i=f(!1),y=n(),p=n(),v=U.CancelToken.source(),d=a=>{c.value||!l.value||(v.cancel(a),i.value=!0,l.value=!1,c.value=!1)};return u(o,h(m({},s),{cancelToken:v.token})).then(a=>{r.value=a,t.value=a.data}).catch(async a=>{const{getErrorResponse:x}=I(),{eResponse:E}=await x(a);y.value=E,p.value=a}).finally(()=>{l.value=!1,c.value=!0}),{response:r,data:t,error:p,finished:c,loading:l,isFinished:c,isLoading:l,cancel:d,canceled:i,aborted:i,abort:d}}export{B as s,D as u};
