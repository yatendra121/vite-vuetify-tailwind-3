import{a as e,t as l,b as n,n as t}from"./index.0c1ce6d2.js";import{r,ac as o,u as s}from"./vendor.df0adcd3.js";function u(e){var l;const n=s(e);return null!=(l=null==n?void 0:n.$el)?l:n}const a=e?window:void 0,i=e?window.document:void 0;e&&window.navigator,e&&window.location;const c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},d="__vueuse_ssr_handlers__";c[d]=c[d]||{},c[d];const v=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];function m(e,s={}){const{document:c=i,autoExit:d=!1}=s,m=e||(null==c?void 0:c.querySelector("html")),f=r(!1);let w=!1,b=v[0];if(c){for(const l of v)if(l[1]in c){b=l,w=!0;break}}else w=!1;const[p,E,F,,S]=b;async function R(){w&&((null==c?void 0:c[F])&&await c[E](),f.value=!1)}async function g(){if(!w)return;await R();const e=u(m);e&&(await e[p](),f.value=!0)}return c&&function(...e){let r,s,i,c;if(n(e[0])?([s,i,c]=e,r=a):[r,s,i,c]=e,!r)return t;let d=t;const v=o((()=>u(r)),(e=>{d(),e&&(e.addEventListener(s,i,c),d=()=>{e.removeEventListener(s,i,c),d=t})}),{immediate:!0,flush:"post"}),m=()=>{v(),d()};l(m)}(c,S,(()=>{f.value=!!(null==c?void 0:c[F])}),!1),d&&l(R),{isSupported:w,isFullscreen:f,enter:g,exit:R,toggle:async function(){f.value?await R():await g()}}}var f,w,b=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;function F(e,n,t={}){const r=t,{window:s=a}=r,i=((e,l)=>{var n={};for(var t in e)p.call(e,t)&&l.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&b)for(var t of b(e))l.indexOf(t)<0&&E.call(e,t)&&(n[t]=e[t]);return n})(r,["window"]);let c;const d=s&&"MutationObserver"in s,v=()=>{c&&(c.disconnect(),c=void 0)},m=o((()=>u(e)),(e=>{v(),d&&s&&e&&(c=new MutationObserver(n),c.observe(e,i))}),{immediate:!0}),f=()=>{v(),m()};return l(f),{isSupported:d,stop:f}}function S(e=null,l={}){var t,s;const{document:u=i,observe:a=!1,titleTemplate:c="%s"}=l,d=r(null!=(t=null!=e?e:null==u?void 0:u.title)?t:null);return o(d,((e,l)=>{n(e)&&e!==l&&u&&(u.title=c.replace("%s",e))}),{immediate:!0}),a&&u&&F(null==(s=u.head)?void 0:s.querySelector("title"),(()=>{u&&u.title!==d.value&&(d.value=c.replace("%s",u.title))}),{childList:!0}),d}(w=f||(f={})).UP="UP",w.RIGHT="RIGHT",w.DOWN="DOWN",w.LEFT="LEFT",w.NONE="NONE";const R=e=>l=>{const n=l.data[0];return Promise.resolve(e.apply(void 0,n)).then((e=>{postMessage(["SUCCESS",e])})).catch((e=>{postMessage(["ERROR",e])}))},g=(e,l)=>{const n=`${(e=>0===e.length?"":`importScripts(${e.map((e=>`'${e}'`)).toString()})`)(l)}; onmessage=(${R})(${e})`,t=new Blob([n],{type:"text/javascript"});return URL.createObjectURL(t)},O=(e,n={})=>{const{dependencies:t=[],timeout:o,window:s=a}=n,u=r(),i=r("PENDING"),c=r({}),d=r(),v=(e="PENDING")=>{u.value&&u.value._url&&s&&(u.value.terminate(),URL.revokeObjectURL(u.value._url),c.value={},u.value=void 0,s.clearTimeout(d.value),i.value=e)};v(),l(v);return{workerFn:(...l)=>"RUNNING"===i.value?Promise.reject():(u.value=(()=>{const l=g(e,t),n=new Worker(l);return n._url=l,n.onmessage=e=>{const{resolve:l=(()=>{}),reject:n=(()=>{})}=c.value,[t,r]=e.data;"SUCCESS"===t?(l(r),v(t)):(n(r),v("ERROR"))},n.onerror=e=>{const{reject:l=(()=>{})}=c.value;l(e),v("ERROR")},o&&(d.value=setTimeout((()=>v("TIMEOUT_EXPIRED")),o)),n})(),((...e)=>new Promise(((l,n)=>{c.value={resolve:l,reject:n},u.value&&u.value.postMessage([[...e]]),i.value="RUNNING"})))(...l)),workerStatus:i,workerTerminate:v}};export{m as a,O as b,S as u};
