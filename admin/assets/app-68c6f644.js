import{s as e,p as a,r as s,n as t}from"./vendor-fcdf8aba.js";import{u as n,_ as r}from"./useAuthUserRepository-6d0bca84.js";function i(){return{getErrorResponse:async a=>{const s=e(),t=e(),r=e();if(!a.response)throw new Error(a.message);{const e=a.response;if(s.value=e.status,t.value=e.statusText,[400,422].includes(s.value))r.value=e.data;else{if(![401].includes(s.value))throw[405,404].includes(s.value),new Error(a.message);await(async()=>{const{logOutUser:e}=n();await e()})()}}return{status:s,statusText:t,eResponse:r}}}}function o(t,n){const o=n,u=r,c=s(),l=s(!1),d=s(!0),h=s(!1),g=e(),m=a.CancelToken.source(),v=e=>{!l.value&&d.value&&(m.cancel(e),h.value=!0,d.value=!1,l.value=!1)};return u(t,{...o,cancelToken:m.token}).then((e=>{c.value=e})).catch((async e=>{const{getErrorResponse:a}=i(),{eResponse:s}=await a(e);g.value=s.value})).finally((()=>{d.value=!1,l.value=!0})),{response:c,finished:l,loading:d,isFinished:l,isLoading:d,cancel:v,canceled:h,aborted:h,abort:v}}async function u(e,s,t){const n=s,i=r,o=a.CancelToken.source();try{return await i(e,{...n,cancelToken:o.token})}catch(u){const e=u;return Promise.reject(e)}}const c=t({id:"app",state:()=>({sidebar:!0,theme:"light",loading:!1,color:"primary",image:"https://demos.creative-tim.com/vue-material-dashboard/img/sidebar-2.32103624.jpg",sidebarBackgroundColor:"rgba(27, 27, 27, 0.74)"}),getters:{sidebarValue(){return this.sidebar},themeValue(){return this.theme},loadingValue(){return this.loading}},actions:{changeSidebar(){this.sidebar=!this.sidebar},updateSidebar(e){this.sidebar=e},changeTheme(){this.theme="light"===this.theme?"dark":"light"},startLoading(){this.loading=!0},finishLoading(){this.loading=!1}}});export{c as a,i as b,o as c,u};
