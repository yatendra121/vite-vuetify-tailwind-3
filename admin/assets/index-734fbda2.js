import{s as e}from"./index-494c4384.js";import{P as s}from"./index-a381323b.js";import{d as t,r as a,A as o,au as n,Z as f,ax as m}from"./vendor-fcdf8aba.js";function u(){return{useOnSocket:(s,t)=>{e.on(s,t);return()=>{e.off(s)}},useEmitSocket:(s,t)=>{e.emit(s,t)},useOffSocket:()=>{e.off()},defaultSocketOffEvent:()=>{},socket:e}}const c=s.getInstance().getSocketUrl(),r=t({setup(){const e=a([]),s=a(""),t=s=>{e.value=[s,...e.value]};let{defaultSocketOffEvent:r}=u();const{useOnSocket:i,useEmitSocket:d}=u();o((()=>{r=i("newmsg",t)})),n((()=>{r()}));return fetch(c+"/users-chat").then((e=>e.json())).then((s=>{e.value=s.data})),{items:e,sendMessage:()=>{d("message",{message:s.value,email:"yatendra@singsys.com"})},message:s,messageOffEvent:r,mdiAccount:f,mdiHome:m}}});export{r as default};
