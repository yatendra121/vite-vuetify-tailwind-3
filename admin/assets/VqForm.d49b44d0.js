import{F as c}from"./vee-validate.esm.a8b3ebdb.js";import{p as l,F as d,an as g,$ as S,aD as D}from"./vendor.88382afc.js";const p=(e,r,o)=>{const a=r||new FormData;let s;for(const t in e)e.hasOwnProperty(t)&&(o?s=o+"["+t+"]":s=t,e[t]instanceof Date?a.append(s,e[t].toISOString()):typeof e[t]=="object"&&!(e[t]instanceof File)&&!(e[t]instanceof Blob)?p(e[t],a,s):e[t]instanceof Blob&&e[t]?a.append(s,e[t],e[t].name):e[t]&&a.append(s,e[t]));return a};class f{constructor(r){this.data=null,this.error="",this.errors="",this.message="",this.data=r.data,this.error=r.error,this.errors=r.errors,this.message=r.message}getData(){return this.data}getError(){return this.error}getErrors(){return this.errors}getMessage(){return this.message}}var E=l({components:{Form:c},props:{action:{type:String,required:!0,default:()=>""},method:{type:String,default:()=>"POST"},formData:{type:Boolean,default:()=>!1}},emits:["submitedSuccess","submitedError"],setup(e,{attrs:r,emit:o,slots:a}){const s=(t,u)=>{const h=e.formData?p(t):t;D(e.action,{method:e.method,data:h}).then(n=>{const i=new f(n);o("submitedSuccess",i)}).catch(n=>{const i=JSON.parse(n.request.response),m=new f(i);u.setErrors(m.getErrors()),o("submitedError",m)})};return()=>d(S,null,[d(c,g({onSubmit:s},r),a)])}});export{E as default};
