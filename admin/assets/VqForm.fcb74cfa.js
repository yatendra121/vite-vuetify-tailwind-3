import{F as t}from"./vee-validate.esm.3d887ab8.js";import{p as e,F as r,an as s,Z as a,aJ as o}from"./vendor.cf865122.js";const n=(t,e,r)=>{const s=e||new FormData;let a;for(const o in t)t.hasOwnProperty(o)&&(a=r?r+"["+o+"]":o,t[o]instanceof Date?s.append(a,t[o].toISOString()):"object"!=typeof t[o]||t[o]instanceof File||t[o]instanceof Blob?t[o]instanceof Blob&&t[o]?s.append(a,t[o],t[o].name):t[o]&&s.append(a,t[o]):n(t[o],s,a));return s};class i{constructor(t){this.data=null,this.error="",this.errors="",this.message="",this.data=t.data,this.error=t.error,this.errors=t.errors,this.message=t.message}getData(){return this.data}getError(){return this.error}getErrors(){return this.errors}getMessage(){return this.message}}var c=e({components:{Form:t},props:{action:{type:String,required:!0,default:()=>""},method:{type:String,default:()=>"POST"},formData:{type:Boolean,default:()=>!1}},emits:["submitedSuccess","submitedError"],setup(e,{attrs:c,emit:m,slots:d}){const u=(t,r)=>{const s=e.formData?n(t):t;o(e.action,{method:e.method,data:s}).then((t=>{const e=new i(t);m("submitedSuccess",e)})).catch((t=>{const e=JSON.parse(t.request.response),s=new i(e);r.setErrors(s.getErrors()),m("submitedError",s)}))};return()=>r(a,null,[r(t,s({onSubmit:u},c),d)])}});export{c as default};
