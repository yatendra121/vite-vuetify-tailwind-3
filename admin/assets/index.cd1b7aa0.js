import{I as P,g as B,a9 as O,r as j,E as I,$ as L,aa as _,ab as x,a1 as h,i as T,w as p,B as R,L as z,o as S,q as C,ac as F,y as K,ad as N,ae as $}from"./vendor.936a7b5d.js";import{u as G}from"./vee-validate.esm.65460397.js";import{a as q,P as H}from"./index.1d4a7aae.js";var W=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],J=function(e){return W.map(function(n){return n.toLowerCase()}).indexOf(e.toLowerCase())!==-1},Q=function(e,n,t){Object.keys(n).filter(J).forEach(function(a){var i=n[a];typeof i=="function"&&(a==="onInit"?i(e,t):t.on(a.substring(2),function(o){return i(o,t)}))})},X=function(e,n,t,a){var i=e.modelEvents?e.modelEvents:null,o=Array.isArray(i)?i.join(" "):i;P(a,function(r,l){t&&typeof r=="string"&&r!==l&&r!==t.getContent({format:e.outputFormat})&&t.setContent(r)}),t.on(o||"change input undo redo",function(){n.emit("update:modelValue",t.getContent({format:e.outputFormat}))})},Y=function(e,n,t,a,i,o){a.setContent(o()),t.attrs["onUpdate:modelValue"]&&X(n,t,a,i),Q(e,t.attrs,a)},E=0,M=function(e){var n=Date.now(),t=Math.floor(Math.random()*1e9);return E++,e+"_"+t+E+String(n)},Z=function(e){return e!==null&&e.tagName.toLowerCase()==="textarea"},w=function(e){return typeof e=="undefined"||e===""?[]:Array.isArray(e)?e:e.split(" ")},ee=function(e,n){return w(e).concat(w(n))},ne=function(e){return e==null},V=function(){return{listeners:[],scriptId:M("tiny-script"),scriptLoaded:!1}},te=function(){var e=V(),n=function(i,o,r,l){var u=o.createElement("script");u.referrerPolicy="origin",u.type="application/javascript",u.id=i,u.src=r;var d=function(){u.removeEventListener("load",d),l()};u.addEventListener("load",d),o.head&&o.head.appendChild(u)},t=function(i,o,r){e.scriptLoaded?r():(e.listeners.push(r),i.getElementById(e.scriptId)||n(e.scriptId,i,o,function(){e.listeners.forEach(function(l){return l()}),e.scriptLoaded=!0}))},a=function(){e=V()};return{load:t,reinitialize:a}},ie=te(),oe=function(){return typeof window!="undefined"?window:global},f=function(){var e=oe();return e&&e.tinymce?e.tinymce:null},ae={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return e==="html"||e==="text"}}},v=globalThis&&globalThis.__assign||function(){return v=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},v.apply(this,arguments)},re=function(e,n,t,a){return e(a||"div",{id:n,ref:t})},le=function(e,n,t){return e("textarea",{id:n,visibility:"hidden",ref:t})},ue=B({props:ae,setup:function(e,n){var t=O(e),a=t.disabled,i=t.modelValue,o=j(null),r=null,l=e.id||M("tiny-vue"),u=e.init&&e.init.inline||e.inline,d=!!n.attrs["onUpdate:modelValue"],m=!0,U=e.initialValue?e.initialValue:"",b="",k=function(s){return d?function(){return(i==null?void 0:i.value)?i.value:""}:function(){return s?U:b}},g=function(){var s=k(m),y=v(v({},e.init),{readonly:e.disabled,selector:"#"+l,plugins:ee(e.init&&e.init.plugins,e.plugins),toolbar:e.toolbar||e.init&&e.init.toolbar,inline:u,setup:function(c){r=c,c.on("init",function(A){return Y(A,e,n,c,i,s)}),e.init&&typeof e.init.setup=="function"&&e.init.setup(c)}});Z(o.value)&&(o.value.style.visibility=""),f().init(y),m=!1};return P(a,function(s){r!==null&&r.setMode(s?"readonly":"design")}),I(function(){if(f()!==null)g();else if(o.value&&o.value.ownerDocument){var s=e.cloudChannel?e.cloudChannel:"5",y=e.apiKey?e.apiKey:"no-api-key",c=ne(e.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+y+"/tinymce/"+s+"/tinymce.min.js":e.tinymceScriptSrc;ie.load(o.value.ownerDocument,c,g)}}),L(function(){f()!==null&&f().remove(r)}),u||(_(function(){m||g()}),x(function(){var s;d||(b=r.getContent()),(s=f())===null||s===void 0||s.remove(r)})),function(){return u?re(h,l,o,e.tagName):le(h,l,o)}}});const se=["image advlist anchor autolink autosave code codesample  directionality emoticons fullscreen hr  insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace tabfocus table template textpattern visualblocks visualchars wordcount"],ce="undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat | insertfile image media link anchor | fullscreen  preview save print | | emoticons |",D=new H,de=B({name:"TextEditor",components:{Editor:ue},props:{name:{type:String,required:!0,default:()=>""},label:{type:String,default:()=>""},placeholder:{type:String,default:()=>""},height:{type:Number,default:()=>250}},setup(e){const{errorMessage:n,value:t}=G(e.name);return{plugins:se,toolbar:ce,errorMessage:n,value:t,baseUrl:D.getBaseUrl()+D.getDomianPrefix()+"static/tinymce/tinymce.min.js"}}}),fe={key:0,class:"text-xs text-red-500 transition duration-500 ease-in-out dark:text-gray-400 mt-1"};function ve(e,n,t,a,i,o){const r=z("editor");return S(),T(R,null,{default:p(()=>[C(r,{modelValue:e.value,"onUpdate:modelValue":n[0]||(n[0]=l=>e.value=l),init:{height:e.height,menubar:!1,plugins:e.plugins,toolbar:e.toolbar},"tinymce-script-src":e.baseUrl},null,8,["modelValue","init","tinymce-script-src"]),C($,{name:"bounce"},{default:p(()=>[e.errorMessage?(S(),F("div",fe,K(e.errorMessage),1)):N("",!0)]),_:1})]),_:1})}var be=q(de,[["render",ve]]);export{be as default};
