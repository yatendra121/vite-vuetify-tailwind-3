import{s as e,P as s}from"./index.96a51d4a.js";import{t,s as a,a0 as n,aE as o,n as c,aI as f}from"./vendor.4e8d2bd0.js";function u(){return{useOnSocket:(s,t)=>{e.on(s,t);return()=>{e.off(s)}},useEmitSocket:(s,t)=>{e.emit(s,t)},useOffSocket:()=>{e.off()},defaultSocketOffEvent:()=>{},socket:e}}const m=s.getInstance().getSocketUrl(),r=t({setup(){const e=a([]),s=a(""),t=s=>{e.value=[s,...e.value]};let{defaultSocketOffEvent:r}=u();const{useOnSocket:d,useEmitSocket:i}=u();n((()=>{r=d("newmsg",t)})),o((()=>{r()}));return fetch(m+"/users-chat").then((e=>e.json())).then((s=>{e.value=s.data})),{items:e,sendMessage:()=>{i("message",{message:s.value,email:"yatendra@singsys.com"})},message:s,messageOffEvent:r,mdiAccount:c,mdiHome:f}}});export{r as default};
