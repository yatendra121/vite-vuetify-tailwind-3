import{k as e,N as a,aa as l,r as t,q as s,x as u,a7 as n,H as o,a3 as d,a1 as r,Z as f,F as i,ae as c,y as m,a2 as v,u as p,ah as _,a4 as x,a as y}from"./chart-js-62aaaa54.js";import{z as k,B as g,C as b}from"./index-74d9ea19.js";import"./axios-5d9d9809.js";function j(){return{useOnSocket:(e,a)=>{k.on(e,a);return()=>{k.off(e)}},useEmitSocket:(e,a)=>{k.emit(e,a)},useOffSocket:()=>{k.off()},defaultSocketOffEvent:()=>{},socket:k}}const S={key:"0"},h={key:"1"},E={key:"2"},O={style:{color:"green"}},C={style:{color:"red"}},w=e({__name:"index",setup(e){let{defaultSocketOffEvent:k}=j();const{useOnSocket:w,useEmitSocket:V}=j();a((()=>{k=w("execute-command",F)})),l((()=>{k()}));const z=t(""),N=t(!1),q=t([]),B=()=>{z.value&&(N.value=!0,q.value.unshift(y({name:z.value,status:"pending",response:[]})),q.value.length>5&&q.value.pop(),V("execute-command",z.value))},F=e=>{if(void 0!==e.code)return q.value[0].status=e.code?"rejected":"completed",N.value=!1,void(z.value="");q.value[0].response.push(e)},H=()=>{q.value=[]};return(e,a)=>{const l=s("title-layout"),t=s("v-text-field"),y=s("v-col"),k=s("v-btn"),j=s("v-row"),w=s("v-form"),V=s("v-divider"),F=s("v-progress-circular"),U=s("v-icon"),Z=s("v-fade-transition"),A=s("v-expansion-panel-title"),D=s("v-container"),G=s("v-expansion-panel-text"),I=s("v-expansion-panel"),J=s("v-expansion-panels"),K=s("v-responsive"),L=s("v-card");return u(),n(i,null,[o(l),o(D,{fluid:""},{default:d((()=>[o(L,null,{default:d((()=>[o(K,null,{default:d((()=>[o(D,null,{default:d((()=>[o(j,null,{default:d((()=>[o(y,{md:"12",sm:"12",xs:"12"},{default:d((()=>[o(w,{onSubmit:r(B,["prevent"])},{default:d((()=>[o(j,null,{default:d((()=>[o(y,{md:"9",sm:"7",xs:"12"},{default:d((()=>[o(t,{modelValue:z.value,"onUpdate:modelValue":a[0]||(a[0]=e=>z.value=e),label:"Command Name"},null,8,["modelValue"])])),_:1}),o(y,{md:"3",sm:"5",xs:"12"},{default:d((()=>[o(j,{justify:"center"},{default:d((()=>[o(y,null,{default:d((()=>[o(k,{density:"comfortable",type:"submit",color:"primary",stacked:"",variant:"elevated",loading:N.value},{default:d((()=>[f(" Execute ")])),_:1},8,["loading"])])),_:1}),o(y,null,{default:d((()=>[o(k,{density:"comfortable",onClick:H,color:"white",stacked:"",variant:"elevated"},{default:d((()=>[f(" Clear ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1}),o(y,{md:"12",sm:"12",xs:"12"},{default:d((()=>[o(V)])),_:1}),o(y,{md:"12",sm:"12",xs:"12"},{default:d((()=>[o(J,{class:"mb-12",color:"primary","model-value":0},{default:d((()=>[(u(!0),n(i,null,c(q.value,((e,a)=>(u(),m(I,{key:a},{default:d((()=>[o(A,null,{default:d((({expanded:a})=>[o(j,{"no-gutters":""},{default:d((()=>[o(y,{cols:"11",class:"d-flex justify-start"},{default:d((()=>[f(v(e.name),1)])),_:2},1024),o(y,{cols:"1",class:"d-flex justify-center"},{default:d((()=>[o(Z,{"leave-absolute":""},{default:d((()=>["pending"==e.status?(u(),n("span",S,[o(F,{color:"primary",size:22,indeterminate:""})])):"completed"==e.status?(u(),n("span",h,[o(U,{color:"info",icon:p(g)},null,8,["icon"])])):"rejected"==e.status?(u(),n("span",E,[o(U,{color:"error",icon:p(b)},null,8,["icon"])])):_("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),o(G,null,{default:d((()=>[o(D,{style:{"max-height":"200px"},class:"overflow-auto"},{default:d((()=>[o(j,{"no-gutters":""},{default:d((()=>[(u(!0),n(i,null,c(e.response,(e=>(u(),m(y,{md:"12",sm:"12",xs:"12",key:e.data},{default:d((()=>[x("span",O,v(e.data),1),x("span",C,v(e.error),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})],64)}}});export{w as default};
