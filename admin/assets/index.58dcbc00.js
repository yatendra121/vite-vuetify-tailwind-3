import{as as u,_ as C,a7 as h,d as E,l as g,p as x,at as O,au as b,av as w,i as I,o as d,c as v,b as e,w as t,V as f,af as L,ac as _,aw as T,f as m,ax as B,O as A,ay as M,az as F,aA as H,aB as U,aC as $,F as V,r as N,Q as R,e as k,a as D,aD as P,aE as j,aF as z,t as p,aG as G,aH as Q}from"./index.e0d2f4fa.js";function S(){return{useOnSocket:(s,l)=>(u.on(s,l),()=>{u.off(s)}),useEmitSocket:(s,l)=>{u.emit(s,l)},useOffSocket:()=>{u.off()},defaultSocketOffEvent:()=>{console.log("Not assigned any socket off event")},socket:u}}const q=h.getInstance(),J=q.getSocketUrl(),K=E({setup(){const a=g([]),n=g(""),i=o=>{a.value=[o,...a.value]};let{defaultSocketOffEvent:c}=S();const{useOnSocket:s,useEmitSocket:l}=S();x(()=>{c=s("newmsg",i)}),O(()=>{c()});const r=()=>{l("message",{message:n.value,email:"yatendra@singsys.com"})};return fetch(J+"/users-chat").then(o=>o.json()).then(o=>{a.value=o.data}),{items:a,sendMessage:r,message:n,messageOffEvent:c,mdiAccount:b,mdiHome:w}}}),W=k("Submit"),X=k("Test"),Y=k("Inbox");function Z(a,n,i,c,s,l){const r=I("title-layout");return d(),v(V,null,[e(r,null,{default:t(()=>[e(f,{large:"",color:"green darken-2",icon:a.mdiHome},null,8,["icon"]),e(f,{large:"",color:"green darken-2",icon:a.mdiAccount},null,8,["icon"])]),_:1}),e(R,{fluid:""},{default:t(()=>[e(L,null,{default:t(()=>[e(_,{md:"10"},{default:t(()=>[e(T,{modelValue:a.message,"onUpdate:modelValue":n[0]||(n[0]=o=>a.message=o),label:"Message"},null,8,["modelValue"])]),_:1}),e(_,{md:"2"},{default:t(()=>[e(m,{onClick:B(a.sendMessage,["stop"]),type:"submit",flat:"",color:"secondary"},{default:t(()=>[W]),_:1},8,["onClick"]),e(m,{flat:"",color:"secondary"},{default:t(()=>[X]),_:1})]),_:1})]),_:1}),e(A,{"max-width":"670",height:"500",class:"overflow-auto"},{default:t(()=>[e(M,{color:"cyan",dark:""},{default:t(()=>[e(F,{variant:"text"}),e(H,null,{default:t(()=>[Y]),_:1}),e(U),e(m,{variant:"text"})]),_:1}),e($,{"three-line":"",class:"overflow-auto"},{default:t(()=>[(d(!0),v(V,null,N(a.items,(o,y)=>(d(),D(Q,{key:y,value:o,"active-color":"primary",variant:"contained"},{default:t(()=>[e(P,{left:""},{default:t(()=>[e(f,{icon:"mdi-account"})]),_:1}),e(j,null,{default:t(()=>[e(z,{textContent:p(o.user.name)},null,8,["textContent"]),e(G,{textContent:p(o.message)},null,8,["textContent"])]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})],64)}var te=C(K,[["render",Z]]);export{te as default};
