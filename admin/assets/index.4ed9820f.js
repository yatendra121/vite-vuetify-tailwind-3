import{ag as C,p as U,a5 as L,r as x,a9 as F,ao as N,ay as T,az as z,U as S,as as E,_ as D,F as k,E as R,aA as K,$,a6 as G,s as w,L as H,aB as q}from"./vendor.88382afc.js";import{u as W}from"./vee-validate.esm.a8b3ebdb.js";import{_ as J,P as Q}from"./index.de00f1f8.js";var X=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Y=function(e){return X.map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase())!==-1},Z=function(e,t,n){Object.keys(t).filter(Y).forEach(function(o){var r=t[o];typeof r=="function"&&(o==="onInit"?r(e,n):n.on(o.substring(2),function(i){return r(i,n)}))})},ee=function(e,t,n,o){var r=e.modelEvents?e.modelEvents:null,i=Array.isArray(r)?r.join(" "):r;C(o,function(d,l){n&&typeof d=="string"&&d!==l&&d!==n.getContent({format:e.outputFormat})&&n.setContent(d)}),n.on(i||"change input undo redo",function(){t.emit("update:modelValue",n.getContent({format:e.outputFormat}))})},ne=function(e,t,n,o,r,i){o.setContent(i()),n.attrs["onUpdate:modelValue"]&&ee(t,n,o,r),Z(e,n.attrs,o)},P=0,A=function(e){var t=Date.now(),n=Math.floor(Math.random()*1e9);return P++,e+"_"+n+P+String(t)},te=function(e){return e!==null&&e.tagName.toLowerCase()==="textarea"},B=function(e){return typeof e=="undefined"||e===""?[]:Array.isArray(e)?e:e.split(" ")},oe=function(e,t){return B(e).concat(B(t))},re=function(e){return e==null},M=function(){return{listeners:[],scriptId:A("tiny-script"),scriptLoaded:!1}},ae=function(){var e=M(),t=function(r,i,d,l){var a=i.createElement("script");a.referrerPolicy="origin",a.type="application/javascript",a.id=r,a.src=d;var v=function(){a.removeEventListener("load",v),l()};a.addEventListener("load",v),i.head&&i.head.appendChild(a)},n=function(r,i,d){e.scriptLoaded?d():(e.listeners.push(d),r.getElementById(e.scriptId)||t(e.scriptId,r,i,function(){e.listeners.forEach(function(l){return l()}),e.scriptLoaded=!0}))},o=function(){e=M()};return{load:n,reinitialize:o}},ie=ae(),le=function(){return typeof window!="undefined"?window:global},c=function(){var e=le();return e&&e.tinymce?e.tinymce:null},ue={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return e==="html"||e==="text"}}},f=globalThis&&globalThis.__assign||function(){return f=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},f.apply(this,arguments)},se=function(e,t,n,o){return e(o||"div",{id:t,ref:n})},de=function(e,t,n){return e("textarea",{id:t,visibility:"hidden",ref:n})},ce=U({props:ue,setup:function(e,t){var n=e.init?f({},e.init):{},o=L(e),r=o.disabled,i=o.modelValue,d=o.tagName,l=x(null),a=null,v=e.id||A("tiny-vue"),p=e.init&&e.init.inline||e.inline,h=!!t.attrs["onUpdate:modelValue"],b=!0,_=e.initialValue?e.initialValue:"",y="",O=function(u){return h?function(){return i!=null&&i.value?i.value:""}:function(){return u?_:y}},g=function(){var u=O(b),s=f(f({},n),{readonly:e.disabled,selector:"#"+v,plugins:oe(n.plugins,e.plugins),toolbar:e.toolbar||n.toolbar,inline:p,setup:function(m){a=m,m.on("init",function(I){return ne(I,e,t,m,i,u)}),typeof n.setup=="function"&&n.setup(m)}});te(l.value)&&(l.value.style.visibility=""),c().init(s),b=!1};C(r,function(u){var s;a!==null&&(typeof((s=a.mode)===null||s===void 0?void 0:s.set)=="function"?a.mode.set(u?"readonly":"design"):a.setMode(u?"readonly":"design"))}),C(d,function(u){var s;h||(y=a.getContent()),(s=c())===null||s===void 0||s.remove(a),E(function(){return g()})}),F(function(){if(c()!==null)g();else if(l.value&&l.value.ownerDocument){var u=e.cloudChannel?e.cloudChannel:"5",s=e.apiKey?e.apiKey:"no-api-key",m=re(e.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+s+"/tinymce/"+u+"/tinymce.min.js":e.tinymceScriptSrc;ie.load(l.value.ownerDocument,m,g)}}),N(function(){c()!==null&&c().remove(a)}),p||(T(function(){b||g()}),z(function(){var u;h||(y=a.getContent()),(u=c())===null||u===void 0||u.remove(a)}));var j=function(u){var s;y=a.getContent(),(s=c())===null||s===void 0||s.remove(a),n=f(f({},n),u),E(function(){return g()})};return t.expose({rerender:j}),function(){return p?se(S,v,l,e.tagName):de(S,v,l)}}});const fe=["image advlist anchor autolink autosave code codesample  directionality emoticons fullscreen hr  insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace tabfocus table template textpattern visualblocks visualchars wordcount"],ve="undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat | insertfile image media link anchor | fullscreen  preview save print | | emoticons |",V=Q.getInstance(),me=U({name:"TextEditor",components:{Editor:ce},props:{name:{type:String,required:!0,default:()=>""},label:{type:String,default:()=>""},placeholder:{type:String,default:()=>""},height:{type:Number,default:()=>250},isDark:{type:Boolean,default:()=>!1}},setup(e){const{errorMessage:t,value:n}=W(e.name);return{plugins:fe,toolbar:ve,errorMessage:t,value:n,baseUrl:V.getBaseUrl()+V.getDomianPrefix()+"static/tinymce/tinymce.min.js"}}}),ge={key:0,class:"text-xs text-red-500 transition duration-500 ease-in-out dark:text-gray-400 mt-1"};function ye(e,t,n,o,r,i){const d=G("editor");return w(),D($,null,[k(d,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=l=>e.value=l),init:{height:e.height,menubar:!1,plugins:e.plugins,toolbar:e.toolbar,skin:e.isDark?"oxide-dark":"",content_css:e.isDark?"dark":""},"tinymce-script-src":e.baseUrl},null,8,["modelValue","init","tinymce-script-src"]),k(K,{name:"bounce"},{default:R(()=>[e.errorMessage?(w(),D("div",ge,H(e.errorMessage),1)):q("",!0)]),_:1})],64)}var Ce=J(me,[["render",ye]]);export{Ce as default};
