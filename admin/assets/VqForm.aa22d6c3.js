var e=Object.defineProperty,t=(t,r,s)=>(((t,r,s)=>{r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s})(t,"symbol"!=typeof r?r+"":r,s),s);import{F as r}from"./vee-validate.esm.0f0d5f32.js";import{a as s}from"./index.94673db4.js";import{p as a,F as o,am as n,Z as i}from"./vendor.df0adcd3.js";const d=(e,t,r)=>{const s=t||new FormData;let a;for(const o in e)e.hasOwnProperty(o)&&(a=r?r+"["+o+"]":o,e[o]instanceof Date?s.append(a,e[o].toISOString()):"object"!=typeof e[o]||e[o]instanceof File||e[o]instanceof Blob?e[o]instanceof Blob&&e[o]?s.append(a,e[o],e[o].name):e[o]&&s.append(a,e[o]):d(e[o],s,a));return s};class u{constructor(e){t(this,"data",null),t(this,"error",""),t(this,"errors",""),t(this,"message",""),this.data=e.data,this.error=e.error,this.errors=e.errors,this.message=e.message}getData(){return this.data}getError(){return this.error}getErrors(){return this.errors}getMessage(){return this.message}}const m=a({components:{Form:r},props:{action:{type:String,required:!0,default:()=>""},method:{type:String,default:()=>"POST"},formData:{type:Boolean,default:()=>!1}},emits:["submitedSuccess","submitedError"],setup(e,{attrs:t,emit:a,slots:m}){const c=(t,r)=>{const o=e.formData?d(t):t;s(e.action,{method:e.method,data:o}).then((e=>{const t=new u(e);a("submitedSuccess",t)})).catch((e=>{const t=JSON.parse(e.request.response),s=new u(t);r.setErrors(s.getErrors()),a("submitedError",s)}))};return()=>o(i,null,[o(r,n({onSubmit:c},t),{default:()=>{var e;return[o(i,null,[null==(e=m.default)?void 0:e.call(m)])]},...m})])}});export{m as default};