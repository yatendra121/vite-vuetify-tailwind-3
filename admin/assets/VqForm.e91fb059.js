import{F as t}from"./vee-validate.esm.be5422b7.js";import{p as e,F as r,an as s,Z as o,aJ as a}from"./vendor.e5ff202b.js";const n=(t,e,r)=>{const s=e||new FormData;let o;for(const a in t)t.hasOwnProperty(a)&&(o=r?r+"["+a+"]":a,t[a]instanceof Date?s.append(o,t[a].toISOString()):"object"!=typeof t[a]||t[a]instanceof File||t[a]instanceof Blob?t[a]instanceof Blob&&t[a]?s.append(o,t[a],t[a].name):t[a]&&s.append(o,t[a]):n(t[a],s,o));return s};class i{constructor(t){this.data=null,this.error="",this.errors="",this.message="",this.data=t.data,this.error=t.error,this.errors=t.errors,this.message=t.message}getData(){return this.data}getError(){return this.error}getErrors(){return this.errors}getMessage(){return this.message}}var m=e({components:{Form:t},props:{action:{type:String,required:!0,default:()=>""},method:{type:String,default:()=>"POST"},formData:{type:Boolean,default:()=>!1}},emits:["submitedSuccess","submitedError"],setup(e,{attrs:m,emit:c,slots:u}){const d=(t,r)=>{const s=e.formData?n(t):t;a(e.action,{method:e.method,data:s}).then((t=>{const e=new i(t);c("submitedSuccess",e)})).catch((t=>{const e=JSON.parse(t.request.response),s=new i(e);r.setErrors(s.getErrors()),c("submitedError",s)}))};return()=>r(o,null,[r(t,s({onSubmit:d},m),u)])}});export{m as default};
